\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[frenchb]{babel}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{ifpdf}
\usepackage{hyperref}

\title{Processeu \textsc{Nono} 1et 2}
\author{Cédric \textsc{Bois} \and Benjamin \textsc{Sientzoff}}
\date{\today}
\ifpdf
\hypersetup{
    pdfauthor={Cédric Bois, Benjamin Sientzoff},
    pdftitle={Réalisation processeur Nono-1 et Nono-2},
}
\fi
\begin{document}
	% page de garde avec sommaire
	\maketitle
	\newpage
	% sommaire
	\tableofcontents
	\newpage % passer à la page suivante
	
	\section*{Introduction}

		\paragraph{}{
		Dans le cadre du cours intitulé \textit{Architecture des ordinateurs}, nous devons recréer
		un processeur Nono-1. Par la suite, ce processeur sera modifier pour devenir Nono-2. Ce 
		rapport retrace comment nous avons réalisé ces processeurs MIPS.
		}
		
		\paragraph{}{
		Les circuits électroniques présentés sont produits avec le logiciel \textit{Logisim}. Ces
		circuits et les différents fichiers permettant notamment de programmer le processeur sont 
		fournis avec la version numérique de ce rapport. Les images RAM peuvent être directement 
		chargées dans la RAM des processeurs Nono. Ces images correspondent aux programmes 
		compilés pour ces architectures et peuvent être exécutés directement dans \textit{Logisim}.
		}
		
		\paragraph{}{
		Dans une première partie, nous présentons les différents sous-circuits composants le 
		processeur Nono-1. Une seconde partie présente sont fonctionnement global et les 
		modifications apportées à Nono-1 pour implémenter les fonctions de Nono-2.
		}
	
	\newpage
	\section{Réalisation de Nono-1}
	
		\subsection{Opcode des instructions}
			
			\paragraph{}{
			Nono-1 et Non-2 sont des processeurs utilisant l'assembleur MIPS. Les 
			instructions disponibles sur Nono-1 sont présentés au tableau de la figure
			\ref{tab_opcode}. On remarque que les instructions reconnues sont relativement
			restreintes. Ces instructions sont de trois formats différents comme on peut
			le voir à la figure \ref{format_inst}\footnote{Tiré du sujet du projet rédigé par M. Frédéric \textsc{Goualard}}.
			}
			
			\begin{figure}[!ht]
			\centering
			\includegraphics[scale=0.2]{formats_instructions.png}
			\label{format_inst}
			\caption{Formats des instructions}
			\end{figure}
			
				\subparagraph{Le Format F1}{
				Le format F1 est composé de quatre paquets de bits.
				Le premier est sur quatre bits, il correspond au code de l'instruction,
				et c'est le cas pour tous les formats d'instructions.
				Les trois paquets suivants, sur quatre bits. Ce format est utilisé typiquement
				pour des opérations faisant intervenir trois registres. Le premier correspond
				à la destination du résultat et les deux suivants aux registres contenant les
				opérantes.
				}
				\subparagraph{Le Format F2}{
				Le format F2 est composé de trois paquets de bits.
				Le premier est sur quatre bits, il correspond au code de l'instruction.
				Les 4 bits suivants correspondent à un nom de registre et les 8 derniers
				à une valeur immédiate. Ce format est typiquement utilisé pour l'instruction
				\textit{li}.
				}
				\subparagraph{Le Format F3}{
				Le format F3 peut être divisé en quatres parties. C'est le format utilisé
				pour les sauts. Les quatres bits correspondent à l'opcode de l'instruction.
				Le paquet des quatres bits et le suivant constitué des quatres autres bits
				suivant correspondent à des noms de registres. Enfin les derniers bits (au
				nombre de quatre) correspondent à un offset. Pour les sauts, cela correspond
				à l'adresse de l'étiquette où effectuer le saut. 
				}
			
			\begin{figure}
			\centering
			\begin{tabular}{|p{4cm}|c|c|c|c|}
				\hline Instruction et paramètres & Format & Opcode  \\ 
				\hline \texttt{add r$_{d}$, r$_{s}$, r$_{t}$} & F$_{1}$ & \texttt{1000} \\ 
				\hline \texttt{sub r$_{d}$, r$_{s}$, r$_{t}$} & F$_{1}$ & \texttt{1001}  \\ 
				\hline \texttt{or r$_{d}$, r$_{s}$, r$_{t}$} & F$_{1}$ & \texttt{1010}  \\ 
				\hline \texttt{and r$_{d}$, r$_{s}$, r$_{t}$} & F$_{1}$ & \texttt{1011}  \\ 
				\hline \texttt{not r$_{d}$, r$_{s}$} & F$_{1}$ & \texttt{1100} \\ 
				\hline \texttt{shl r$_{d}$, r$_{s}$, r$_{t}$} & F$_{1}$ & \texttt{1101} \\ 
				\hline \texttt{shr$_{d}$, r$_{s}$, r$_{t}$} & F$_{1}$ & \texttt{1110} \\ 
				\hline \texttt{li r$_{d}$, $val$} & F$_{2}$ & \texttt{1111} \\ 
				\hline \texttt{halt} & F$_{1}$ & \texttt{0000} \\ 
				\hline \texttt{b \textit{offset}} & F$_{3}$ & \texttt{0001} \\
				\hline \texttt{beq r$_{s}$, r$_{t}$, \textit{offset}} & F$_{3}$ & \texttt{0010} \\ 
				\hline \texttt{bne r$_{s}$, r$_{t}$,\textit{offset}} & F$_{3}$ & \texttt{0011} \\ 
				\hline \texttt{bge r$_{s}$, r$_{t}$, \textit{offset}} & F$_{3}$ & \texttt{0100} \\ 
				\hline \texttt{ble r$_{s}$, r$_{t}$, \textit{offset}} & F$_{3}$ & \texttt{0101} \\ 
				\hline \texttt{bgt r$_{s}$, r$_{t}$, \textit{offset}} & F$_{3}$ & \texttt{0110} \\ 
				\hline \texttt{blt r$_{s}$, r$_{t}$, \textit{offset}} & F$_{3}$ & \texttt{0111} \\ 
				\hline 
				\end{tabular}
			\label{tab_opcode}
			\caption{\textit{Opcode} des différentes instruction du processeur Nono-1}
			\end{figure}
			
			\paragraph{}{
			Le choix des opcode n'a pas était fait au hasard, en effet, en regardant le nombre
			de sauts et le nombre d'opérations faisant appellent à l'unité arithmétique et logique
			du processeur, on s'apperçoit qu'il peuvent consistuer deux groupes. On a donc coupé
			les opcode en trois groupes. Le premier correspond aux opcodes qui commence par un $1$,
			ce sont les instructions qui font appelle à l'UAL. \newline
			Le second groupe, les opcodes commencent par un $0$, correspondent aux saut. Enfin 
			le dernier groupe est composé des autres instructions, les opcodes $0000$ et $1111$.
			Le tableau des instructions, leur format et les opcodes correspondants est présenté
			à la figure \ref{tab_opcode}.
			}
	
		\subsection{L' unité arithmétique et logique}
			\input{UAL.tex}
			
		\subsection{Le contrôleur de saut}
			\input{control_saut.tex}
			
		\subsection{Décodeur d'instructions}
			\input{deco_instru.tex}
			
		\subsection{Sélection des registres}
			\input{selec_reg.tex}
			
		\subsection{Le banc de registres}
			\input{banc_reg.tex}
	
	\newpage	
	\section{Processeurs Nono-1 et Nono-2}
		\subsection{Nono-1}
		\subsection{Nono-2}
	

	
	
	\newpage
	\section*{Conclusion}
		\paragraph{}{je conclu}
		
\end{document}
